---
import { RightArrowIcon } from '@icons/RightArrow'

interface Props {
  position: number;
  work: {
    name: string;
    position: string;
    startDate: string;
    endDate: any;
    type: string;
    summary: string[];
    link?: string;
  };
}

const { position, work } = Astro.props
let date = `${work.startDate} / ${work.endDate}`;
---

<article
  class="relative h-full w-full p-6 flex flex-col items-start bg-gray-200 dark:bg-zinc-800 rounded-xl overflow-hidden"
>
  <span class="absolute top-2 right-10 text-9xl opacity-30">
    {position}
  </span>
  <div class="mb-4">
    <h3 class="text-lg text-balance font-bold mb-4">
      <span class="opacity-80 font-semibold">{work.name}</span>
      <br />
      {work.position}
    </h3>
    <div class="flex flex-col gap-1 opacity-90">
      <time class="text-sm"
        >{work.endDate !== null ? date : `${work.startDate} / Actual`}</time
      >
      <p class="text-sm">{work.type}</p>
    </div>
  </div>
  <div>
    <ul class="mt-3 w-full max-w-[500px]">
      {
        work.summary.map((item: string) => (
          <li class="text-sm mb-2 opacity-90 first-letter:text">{item}</li>
        ))
      }
    </ul>
    {
      work.link && (
        <a
          href={work.link}
          target="_blank"
          class="w-fit text-blue-500 dark:text-blue-300 flex items-center gap-1 hover:opacity-80 duration-200 group"
        >
          Saber m√°s
          <RightArrowIcon className="size-5 group-hover:translate-x-1 duration-200" />
        </a>
      )
    }
  </div>
</article>
